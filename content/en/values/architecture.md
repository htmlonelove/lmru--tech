---
title: "Архитектура"
weight: 20
type: docs
menu:
    main:
        parent: "Инженерная культура"
description: "Рассказываем, как работаем с архитектурой: заботимся о чистоте API и создаём IT-продукты, которые могут существовать отдельно друг от друга. Всё с примерами и антипримерами."
---

## Заботимся о чистоте API.

* Выставляем сервисы для других команд через API и Портал разработчиков.
* Следуем [Принципам Построения API]({{< ref "/knowledge/sync" >}}). 
Всё, что не соответствует этим принципам, считается техническим долгом.
* Сервисы не должны предоставлять клиентскую библиотеку. API и модель данных выражается через REST и JSON.

{{< blocks/practice >}}
#### Практики и ритуалы:
{{< glossary title="Правило 30%" text="Каждый инженер может использовать часть своего рабочего времени на исследовательские задачи, на работу над тех. долгом или обучение.<br>Количество процентов примерное и должно определяться техническим лидером совместно с продуктовой командой.">}}

{{< /blocks/practice >}} 
{{< alert color="warning" title="Антипаттерн" >}}GraphQL или GRPC эндпоинт выставили для внешнего использования. 
<sup>[Смотри технологическую ценность]({{< ref "technology/#3-выбор-технологии-согласован-с-таблицей-технологийhahahugoshortcode-s6-hbhb" >}})</sup>
{{< /alert >}}

---

## Используем модулярную архитектуру и избегаем излишней связности между продуктами 

* Избегаем дублирования функциональности систем.
* За каждую систему отвечает своя команда мейнтейнеров.


* Модули изолированы и слабо связанны.
* У модулей единая ответственность.
* Можем выкидывать существующий модуль, добавлять новый или изменять последовательность выполнения модулей без влияния на соседнюю функциональность.
* Периодически обсуждаем важные вопросы архитектуры и технического долга.


{{< alert color="warning" title="Антипаттерн" >}}Создали микросервисы с захардкоженными шагами и несколькими точками входа.</sup>
{{< /alert >}}

{{< blocks/practice >}}
#### Практики и ритуалы:

{{< glossary title="Архитектурный комитет" text="Это встреча Enterprise & Solution архитекторов. Проводится по требованию. Лидер — технический директор.Чем занимается комитет:<br> * решает проблемы архитектуры * разблокирует задачи технического долга * консультирует по архитектуре решений">}}

{{< glossary title="High Cohesion" text="High Cohesion — это когда класс выполняет чётко определённую работу. Low Cohesion — когда класс выполняет много всего разного.">}}

{{< glossary title="Внешняя конфигурация" text="Изменяемая конфигурация должна храниться в окружении.">}}

{{< glossary title="Оркестрация / Хореография" text="Микросервисный паттерн для построения последовательности выполнений — САГА. Больше информации [тут](https://medium.com/ingeniouslysimple/choreography-vs-orchestration-a6f21cfaccae), а ещё больше [тут](https://microservices.io/patterns/data/saga.html).">}}

{{< /blocks/practice >}}


---

## Разрабатываем только экономически оправданные продукты 

* Избегаем дублирования функциональности систем.
* За каждую систему отвечает своя команда мейнтейнеров.

{{< alert color="warning" title="Антипаттерн" >}}Продолжаем разрабатывать убыточный продукт, потому сложно признать ошибку.
<sup>[Смотри ценность в разделе люди]({{< ref "/values/people" >}})</sup>
{{< /alert >}}

{{< blocks/practice >}}
#### Практики и ритуалы:

{{< glossary title="Соотношение доходов и расходов" text="Для каждого продукта или фичи до начала работ рассчитываем, сколько нужно потратить и сколько можно заработать.">}}

{{< glossary title="KISS" text="Keep it simple, stupid. Как говорил старина Оккам, [«не стоит множить сущее без необходимости»](https://en.wikipedia.org/wiki/Occam%27s_razor). Нужна веская причина, чтобы добавить новый уровень абстракции, объект данных или компонент. Мы за простоту и лаконичность. Излишнюю сложность следует признать архитектурным долгом и переработать.">}}

{{< glossary title="DRY" text="Don’t Repeat Yourself — не повторяй сам себя. Мы не разрабатываем несколько систем, модулей, микросервисов или компонентов с одинаковым предназначением.">}}

{{< /blocks/practice >}}

{{< blocks/button-improvement href="#" text="Предложить улучшения">}}
